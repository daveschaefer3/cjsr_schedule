<html>
<head>
  <meta charset="UTF-8">
  <title>CJSR Program Schedule</title>

  <script type="text/javascript" src="javascripts/lib/jquery-1.10.2.min.js"></script>
  <script type="text/javascript" src="javascripts/lib/handlebars-1.0.0.js"></script>
  <script type="text/javascript" src="javascripts/lib/json2.js"></script>

  <script type="text/javascript" src="javascripts/showJson.js"></script>
  <script type="text/javascript" src="javascripts/templateHelpers.js"></script>
  <script type="text/javascript">
    // custom Handlebars template helpers

    Handlebars.registerHelper("");
  </script>

  <script type="text/javascript">
    // template filling
    
    $(function(){
      // 
      // $('#days-box').append(JSON.stringify(showJson));

      var shows = showJson.shows;
      var dayList = [
        {theDay: "mon"},
        {theDay: "tues"},
        {theDay: "wed"},
        {theDay: "thurs"},
        {theDay: "fri"},
        {theDay: "sat"},
        {theDay: "sun"}
      ];

      var daySource = $('#day-template').html();
      var showSource = $('#show-template').html();

      for (var i=0; i < dayList.length; i++) {
        var dayTemplate = Handlebars.compile(daySource);
        var dayHtml = dayTemplate(dayList[i]);
        $('#days-box').append(dayHtml);
      };

      for (var n=0; n < shows.length; n++) {
        var show = shows[n];
        var columnDump = "#" + show.day;

        var showTemplate = Handlebars.compile(showSource);
        var showHtml = showTemplate(show);
        $(columnDump).append(showHtml);
      };

    });
  </script>
</head>
<body>
<div id="container">
  <div class="timestrip" id="left-times"></div>
  <div id="days-box">

  </div>
  <div class="timestrip" id="right-times"></div>
</div>


<!-- TEMPLATES START -->
<script id="day-template" type="text/x-handlebars-template">
  <div class="day" id="{{theDay}}">
    Column.
  </div><br/>
</script>

<script id="show-template" type="text/x-handlebars-template">
  <div class="show" id="show-{{id}}">
    <span>{{{name}}}</span>
  </div>
</script>

<!-- TEMPLATES END -->

</body>
</html>